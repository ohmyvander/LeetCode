求最长回文子字符串

想了挺久，最简单的当然是暴力，但应该还有更有解法。想过dp，也想过将原串翻转求最长公共子串，还有建树，从中间开始贪心等等等等，但都感觉不靠谱。
后来想了种方法，应该算是优化过的暴力。
先用n的时间扫一遍原串，去除相邻重复的串，并用结构数组保存结果。单个结构内存放重复子串，子串长度，子串由哪个字母构成（这个可以不用）。然后对这个结构数组从前往后暴力。没想到交上去还可以，130ms。